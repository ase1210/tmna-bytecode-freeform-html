!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.html_freeform=n():e.html_freeform=n()}(window,(function(){return d=[function(module,exports){eval('looker.plugins.visualizations.add({\n    options: {\n        html_freeform: {\n          type: "string",\n          label: "Freeform HTML. Use strings like ~1, ~2, or ~3 to access data inside the html",\n          display: "text",\n          default: "<div>Your custom HTML</div>"\n        },\n   \n      styles_freeform: {\n        type: "string",\n        label: "Freeform Styles",\n        display: "text",\n        default: `@font-face {\n          font-family: Open Sans;\n          src: url( https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVZ0b.woff2 );\n        }\n        div {\n          background-color: white;\n          text-align: center;\n        }`\n      },\n  },\n\n\tcreate: function(element, config){\n    element.innerHTML = `<div class="html_freeform">Rendering...</div>`;\n    },\n\tupdateAsync: function(data, element, config, queryResponse, details, doneRendering){\n        \n        element.innerHTML = \'\'\n        let measure_fields = queryResponse.fields.measure_like.map((field) => {\n            // let key =    field.label\n            return field.name\n        })\n        let dimension_fields = queryResponse.fields.dimension_like.map((field) => {\n          // let key =    field.label\n          return field.name\n         \n      })\n\n        let fields = dimension_fields.concat(measure_fields)\n\n        let existingStyleRef =  document.getElementById("freeformStyle") \n        if (existingStyleRef) existingStyleRef.remove()\n        \n        var styleEl = document.createElement(\'style\');\n        styleEl.setAttribute(\'type\',"text/css")\n        styleEl.setAttribute(\'id\',"freeformStyle")\n        styleEl.innerHTML = config.styles_freeform\n\n        document.head.appendChild(styleEl);\n\n        let html_with_data = config.html_freeform || \' \'\n        fields.forEach((field,i) => {\n          html_with_data = html_with_data.replace(`~${i+1}`\n          ,data[0][field]["value"])\n        })\n\n        // element.innerHTML = html_with_data\n       element.innerHTML = html_with_data\n\t\tdoneRendering()\n\t}\n});\n\n//# sourceURL=webpack://%5Bname%5D/./src/visualizations/html_freeform.js?')}],e={},f.m=d,f.c=e,f.d=function(e,n,t){f.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},f.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(e,n){if(1&n&&(e=f(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(f.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)f.d(t,r,function(n){return e[n]}.bind(null,r));return t},f.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(n,"a",n),n},f.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},f.p="",f(f.s=0);function f(n){if(e[n])return e[n].exports;var t=e[n]={i:n,l:!1,exports:{}};return d[n].call(t.exports,t,t.exports,f),t.l=!0,t.exports}var d,e}));