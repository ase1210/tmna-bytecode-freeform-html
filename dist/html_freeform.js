!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){const{config:r}=n(1);looker.plugins.visualizations.add({options:{html_freeform:{type:"string",label:"Freeform HTML. Use strings like ~1, ~2, or ~3 to access data inside the html",display:"text",default:"<div>Your custom HTML</div>"},styles_freeform:{type:"string",label:"Freeform Styles",display:"text",default:"@font-face {\n          font-family: Open Sans;\n          src: url( https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVZ0b.woff2 );\n        }\n        div {\n          background-color: white;\n          text-align: center;\n        }"},use_html_from_fields:{type:"boolean",label:"Use html from fields",default:!1},rows_per_page:{type:"number",label:"Rows per page",default:5},current_page:{type:"number",label:"Current page",default:1},showPage:{type:"boolean",label:"Show Page",default:!0},totalPages:{type:"number",label:"Total pages",default:1},showToggleButton:{type:"boolean",label:"Show Toggle pagination button",default:!0}},create:function(e,t){e.innerHTML='<div class="html_freeform">Rendering...</div>'},updateAsync:function(e,t,n,r,o,a){t.innerHTML="";let i=r.fields.measure_like.map(e=>e.name),l=r.fields.dimension_like.map(e=>e.name).concat(i),s=document.getElementById("freeformStyle");s&&s.remove();var u=document.createElement("style");u.setAttribute("type","text/css"),u.setAttribute("id","freeformStyle"),u.innerHTML=n.styles_freeform,document.head.appendChild(u);let c="",p=Math.ceil(e.length/n.rows_per_page);if(console.log("Totalpages: ",p),console.log("ppoo"),this.trigger("updateConfig",[{totalPages:p}]),p>0){c+=`\n      <div class="center" id="pageButtons">\n        <div class="pagination" style="display: ${n.showPage?"block":"none"}">\n          <a href="#" id="firstPageButton">&laquo;</a>\n          <a href="#" id="prevPageButton">&lsaquo;</a>\n          <a href="#"><span style="font-weight: bold">${n.current_page}</span> of <span id="vis_totalpages">${p}</span></a>\n          <a href="#" id="nextPageButton">&rsaquo;</a>            \n          <a href="#" id="lastPageButton">&raquo;</a>            \n          \x3c!--<span>Total Pages: ${p}</span>         \n          <span>Rows: ${e.length}</span>--\x3e\n        </div>\n        <div class="pagination" style="float: right;display: ${n.showToggleButton?"block":"none"}">\n          <a href="#" id="pageToggle">Toggle Pagination</a>\n        </div>\n      </div> </br>`;let r=n.current_page*n.rows_per_page-1,o=r-n.rows_per_page,a=e.filter((e,t)=>t<=r&&t>o);for(var g of a){let e=n.html_freeform||" ";l.map((t,n)=>{let r=" ";var o=g[t];r=LookerCharts.Utils.htmlForCell(o),e=e.replace(`~${n+1}~`,r)}),c+=e}t.innerHTML=c}else c='<span style="font-weight: bold">No Records found</span>',t.innerHTML=c;document.getElementById("pageToggle").addEventListener("click",e=>f(e,n));const f=(n,i)=>{n.preventDefault(),1==Math.ceil(e.length/i.rows_per_page)?(this.trigger("updateConfig",[{rows_per_page:5,current_page:1,showPage:!0}]),i.rows_per_page=5,i.current_page=1,i.showPage=!0):(this.trigger("updateConfig",[{rows_per_page:e.length,current_page:1,showPage:!1}]),i.rows_per_page=e.length,i.current_page=1,i.showPage=!1),this.updateAsync(e,t,i,r,o,a)};document.getElementById("nextPageButton").addEventListener("click",e=>d(e,n)),document.getElementById("prevPageButton").addEventListener("click",e=>h(e,n)),document.getElementById("firstPageButton").addEventListener("click",e=>m(e,n)),document.getElementById("lastPageButton").addEventListener("click",e=>y(e,n));const d=(n,i)=>{if(n.preventDefault(),Math.ceil(e.length/i.rows_per_page)<=i.current_page);else{let n=i.current_page+1;this.trigger("updateConfig",[{current_page:n}]),i.current_page=n,this.updateAsync(e,t,i,r,o,a)}},h=(n,i)=>{if(n.preventDefault(),1!=i.current_page){let n=i.current_page-1;this.trigger("updateConfig",[{current_page:n}]),i.current_page=n,this.updateAsync(e,t,i,r,o,a)}},m=(n,i)=>{n.preventDefault(),this.trigger("updateConfig",[{current_page:1}]),i.current_page=1,this.updateAsync(e,t,i,r,o,a)},y=(n,i)=>{n.preventDefault();let l=Math.ceil(e.length/i.rows_per_page);this.trigger("updateConfig",[{current_page:l}]),i.current_page=l,this.updateAsync(e,t,i,r,o,a)};a()}})},function(e,t){var n,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var s,u=[],c=!1,p=-1;function g(){c&&s&&(c=!1,s.length?u=s.concat(u):p=-1,u.length&&f())}function f(){if(!c){var e=l(g);c=!0;for(var t=u.length;t;){for(s=u,u=[];++p<t;)s&&s[p].run();p=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||c||l(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}]);